<h1>New Vehicle</h1>

<p>
  {{vehicle | json}}
</p>

<form #formValid="ngForm" (ngSubmit)="submit()">
  <div class="form-group">

    <label for="make" class="">Make</label>
    <select id="model" class="form-control" (change)="onMakeChange()" 
                                [(ngModel)]="vehicle.MakeId" name="MakeId" 
                                required #makeV="ngModel">
      <option value=""></option>
      <option *ngFor="let maker of makes" value="{{maker.id}}">
        {{maker.name}}
      </option>
    </select>
    <div class="alert alert-danger" *ngIf="makeV.touched && !makeV.valid">
      Make is Required
    </div>
  </div>


  <div class="form-group">

    <label for="model" class="">Model</label>
    <select id="model" class="form-control" [(ngModel)]="vehicle.modelId" name="modelId" 
                    required #modelV="ngModel">
      <option value="{{updateModel.id}}">{{ updateModel.name }}</option>
      <option *ngFor="let modeler of models" value="{{modeler.id}}">
        {{modeler.name}}
      </option>
    </select>
    <div class="alert alert-danger" *ngIf="modelV.touched && !modelV.valid">
      Model is Required
    </div>
</div>


  <div>
    Is this vehicle Registered<br />

    <label for="reg" class="radio-inline">
      <input type="radio" class="radio-inline" id="reg" 
              [(ngModel)]="vehicle.isRegistered" [value]="true" name="asd" />Yes
    </label>

    <label for="reg" class="radio-inline">
      <input type="radio" class="radio-inline" id="notreg" 
              [(ngModel)]="vehicle.isRegistered" [value]="false" name="asd" />No
    </label>
  </div>


  <h2>Features</h2>

  <div *ngFor="let f of features" class="checkbox">
    <label for="{{f.id}}">
      <input id="{{ f.id }}" (click)="OnCheckFeature(f.id, $event)" 
      [checked]="vehicle.vehicleFeature.includes(f.id)"
      type="checkbox">{{f.name}}
    </label>
  </div>


  <h2>Contact Details</h2>
  <div class="form-group">
    <label for="ConName">Name</label>
    <input type="text" id="ConName" [(ngModel)]="vehicle.Contact.name" name="ConName"  class="form-control">
  </div>
  
  <div class="form-group">
    <label for="ConPhone">Phone Number</label>
    <input type="text" id="ConPhone" [(ngModel)]="vehicle.Contact.phone" name="ConPhone"  class="form-control">
  </div>

  <div class="form-group">
    <label for="ConEmail">Email</label>
    <input type="text" id="ConEmail" [(ngModel)]="vehicle.Contact.email" name="ConEmail"  class="form-control">
  </div>

  <button class="btn btn-primary">Save</button>
</form>
